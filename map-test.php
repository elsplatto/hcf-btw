
<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Darling Harbour</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />

    <link rel="icon" type="image/x-icon" href="http://beyondthewharf.com.au/favicon.ico" />
    <link rel="apple-touch-icon" href="http://beyondthewharf.com.au/apple-icons/beyond-the-wharf-icon.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="http://beyondthewharf.com.au/apple-icons/beyond-the-wharf-76x76.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="http://beyondthewharf.com.au/apple-icons/beyond-the-wharf-120x120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="http://beyondthewharf.com.au/apple-icons/beyond-the-wharf-152x152.png" />


    <link rel="stylesheet" href="http://beyondthewharf.com.au/css/foundation.css" />
    <link rel="stylesheet" href="http://beyondthewharf.com.au/css/style.css" />
    <script src="http://beyondthewharf.com.au/js/modernizr.js"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDcRjvvKaoJuT_-v4op_kWwsV5rwQEIRG8&sensor=true"></script>

    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cloud.typography.com/6681852/609364/css/fonts.css" />
    <script type="text/javascript" src="//use.typekit.net/ipr3pdx.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>


</head>
<body>
<section id="navHolder" class="navHolder">
    <div class="row">
        <div class="large-12 medium-12 small-12 columns">
            <nav class="top-bar" data-topbar>
                <ul class="title-area">
                    <li class="name">
                        <h1><a href="http://beyondthewharf.com.au/">Beyond the Wharf</a></h1>
                    </li>
                    <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
                </ul>

                <section class="top-bar-section first">
                    <!-- Right Nav Section -->
                    <ul class="right">
                        <li>
                            <form id="frmSearch" action="#" method="POST">
                                <label for="txtSearch">Search</label>
                                <input type="search" name="txtSearch" id="txtSearch" placeholder="Enter keywords" />
                                <button type="submit" id="searchSubmit" name="searchSubmit">Submit</button>
                            </form>
                        </li>
                    </ul>

                    <!-- Left Nav Section -->
                    <ul class="left">
                        <li><a href="http://beyondthewharf.com.au/page/explore-our-harbour">Explore Our Harbour</a></li>
                        <li><a href="http://beyondthewharf.com.au/events">Events</a></li>
                        <li><a href="http://beyondthewharf.com.au/gallery">Gallery</a></li>
                        <li><a href="http://beyondthewharf.com.au/page/local-insights">Local Insights</a></li>
                    </ul>


                </section>

                <section class="top-bar-section second">
                    <ul class="routes">
                        <li>Routes:</li>
                        <li><a href="http://beyondthewharf.com.au/route/manly" class="manly">Manly</a></li>
                        <li><a href="http://beyondthewharf.com.au/route/taronga-zoo" class="taronga">Taronga Zoo</a></li>
                        <li><a href="http://beyondthewharf.com.au/route/parramatta-river" class="parramatta">Parramatta River</a></li>
                        <li><a href="http://beyondthewharf.com.au/route/darling-harbour" class="darling">Darling Harbour</a></li>
                        <li><a href="http://beyondthewharf.com.au/route/neutral-bay" class="neutral">Neutral Bay</a></li>
                        <li><a href="http://beyondthewharf.com.au/route/mosman-bay" class="mosman">Mosman Bay</a></li>
                        <li><a href="http://beyondthewharf.com.au/route/eastern-suburbs" class="eastern">Eastern Suburbs</a></li>
                    </ul>
                </section>

            </nav>
        </div>
    </div>
</section><section class="breadcrumbsHolder">
    <div class="row">
        <div class="large-12 columns breadcrumbs">
            <a href="http://beyondthewharf.com.au/">Home</a><span>Darling Harbour Route</span>
        </div>
    </div>
</section>

<section class="routeHeaderHolder darling">
    <div class="row">
        <div class="large-12 columns">
            <h2 class="sub">Darling Harbour</h2>
            <div class="large-12 text-center">
                <img src="http://beyondthewharf.com.au/img/darlingRouteGraphic.png" alt="" class="routeGraphic" />
            </div>
        </div>
    </div>
</section>

<section class="contentHolder marginBottomStandard">
    <div class="row">
        <div class="large-12 columns">
            <div class="large-12 columns white paddingTopBottom40">
                <div class="large-10 columns large-offset-1">
                    <h2 class="block clearfix text-left">About Darling Harbour</h2>
                    <p>Families check picnic bags and leave stresses behind as we chug slowly under the bridge and towards the welcoming face of Luna Park. Scores of excited kids disembark and swarm through the iconic entrance. Others peel off to first swim at Sydney's most picturesque pool. While those in the know meander towards Lavender Bay, hunting for Wendy Whiteley's spectacular hidden garden.

                        It's quieter now. Only the click of the commuters' keyboards. We take time to reflect on the day ahead and the sights yet to discover. Sydney's beauty slips by in bite-sized pieces. The green expanse of Blues Point Reserve reminds us of last New Year Eve's fireworks. There's no better place to view them.

                        Skyscrapers scratch the sky as the noise and excitement of Darling Harbour catches our attention. Do we get off now? Or stay on for Pyrmont? It's cafes and shopping versus museums and attractions. We stay on board just to linger longer before the day's fun explodes around us.
                    <p>                </div>
            </div>
        </div>
    </div>
</section>

<section class="mapHolder standardLightGrey paddingTopBottom20 marginBottomStandard">

    <div class="row marginBottomStandard">

        <!--h3 class="text-center">Find a Journey</h3-->
        <div class="large-12 columns" id="mapContainer">

            <div class="large-12" id="map-canvas">
                <div id="map-canvas-loader"></div>
            </div>
            <a href="#" id="toggleMapControlPanel" class="toggleControlPanel"></a>

            <div id="mapControlPanelHolder" class="controlPanelHolder large-3">
                <div id="mapControlPanel" class="controlPanel">
                    <h6 class="white">FILTER:</h6>

                    <ul>
                        <li><a href="#" class="mapFilter" data-category="attractions" data-visible="true"><span><span></span></span>attractions</a></li>
                        <li><a href="#" class="mapFilter" data-category="food & wine" data-visible="true"><span><span></span></span>food & wine</a></li>
                        <li><a href="#" class="mapFilter" data-category="family" data-visible="true"><span><span></span></span>family</a></li>
                        <li><a href="#" class="mapFilter" data-category="local secrets" data-visible="true"><span><span></span></span>local secrets</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="large-12" id="pageTileContainer">

            <div class="large-3 small-3 columns left">
                <div class="tile">
                    <div class="imgHolder">
                        <img src="../img/locations/thumbnails/Luna-Park.jpg" />
                    </div>
                    <div class="textHolder">
                        <span>family</span>
                        <h5><a href="#" class="panelFlyoutTrigger" data-location="39" data-target="pageTileContainer" title="Luna Park">Luna Park</a></h5>
                    </div>
                </div>
            </div>

            <div class="large-3 small-3 columns left">
                <div class="tile">
                    <div class="imgHolder">
                        <img src="../img/locations/thumbnails/Wildlife-Sydney.jpg" />
                    </div>
                    <div class="textHolder">
                        <span>family</span>
                        <h5><a href="#" class="panelFlyoutTrigger" data-location="41" data-target="pageTileContainer" title="Wildlife Sydney Zoo">Wildlife Sydney Zoo</a></h5>
                    </div>
                </div>
            </div>

            <div class="large-3 small-3 columns left">
                <div class="tile">
                    <div class="imgHolder">
                        <img src="../img/locations/thumbnails/Mary-McKillop-Place.jpg" />
                    </div>
                    <div class="textHolder">
                        <span>local secrets</span>
                        <h5><a href="#" class="panelFlyoutTrigger" data-location="79" data-target="pageTileContainer" title="Mary MacKillop Place Museum">Mary MacKillop Place Museum</a></h5>
                    </div>
                </div>
            </div>

            <div class="large-3 small-3 columns left">
                <div class="tile">
                    <div class="imgHolder">
                        <img src="../img/locations/thumbnails/Madame-Tussauds.gif" />
                    </div>
                    <div class="textHolder">
                        <span>attractions</span>
                        <h5><a href="#" class="panelFlyoutTrigger" data-location="109" data-target="pageTileContainer" title="Madam Tussauds">Madam Tussauds</a></h5>
                    </div>
                </div>
            </div>

            <div class="large-3 small-3 columns left">
                <div class="tile">
                    <div class="imgHolder">
                        <img src="../img/locations/thumbnails/Powerhouse-Museum.gif" />
                    </div>
                    <div class="textHolder">
                        <span>attractions</span>
                        <h5><a href="#" class="panelFlyoutTrigger" data-location="110" data-target="pageTileContainer" title="Powerhouse Museum">Powerhouse Museum</a></h5>
                    </div>
                </div>
            </div>

            <div class="large-6 small-6 columns left">
                <div class="tile">
                    <div class="imgHolder">
                        <img src="../img/locations/thumbnail-med/Aqua-Dining.gif" />
                    </div>
                    <div class="textHolder">
                        <span>food & wine</span>
                        <h5><a href="#" class="panelFlyoutTrigger" data-location="119" data-target="pageTileContainer" title="Aqua Dining">Aqua Dining</a></h5>
                    </div>
                </div>
            </div>

            <div class="large-3 small-3 columns left">
                <div class="tile">
                    <div class="imgHolder">
                        <img src="../img/locations/thumbnails/Aust-National-Maritime-Museum.jpg" />
                    </div>
                    <div class="textHolder">
                        <span>attractions</span>
                        <h5><a href="#" class="panelFlyoutTrigger" data-location="5" data-target="pageTileContainer" title="Maritime Museum">Maritime Museum</a></h5>
                    </div>
                </div>
            </div>


        </div>
    </div>
</section>

<section class="itineraryTileHolder marginBottomStandard">
    <div class="row">
        <div class="large-12">
            <h3 class="text-center">Recommended Itineraries</h3>
            <div class="large-6 columns left">
                <div class="itineraryTile" style="background-image: url('http://beyondthewharf.com.au/img/it/tile/tile-2.jpg'); background-repeat: no-repeat;">
                    <div class="inner">
                        <div class="textHolder">
                            <span>Itinerary – by Joel Beck – 3 hours</span>
                            <h3><a href="http://beyondthewharf.com.au/itineraries">Sunday - Family Day</a></h3>
                        </div>
                    </div>
                </div>
            </div>

            <div class="large-6 columns right">
                <div class="itineraryTile" style="background-image: url('http://beyondthewharf.com.au/img/it/tile/tile-1.jpg'); background-repeat: no-repeat;">
                    <div class="inner">
                        <div class="textHolder">
                            <span>Itinerary – by Joel Beck – 3 hours</span>
                            <h3><a href="http://beyondthewharf.com.au/itineraries">Sunday - Family Day</a></h3>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>




<section class="moreArticles white paddingTopBottom20">
    <div class="row">
        <div class="large-12">
            <h3 class="text-center">More Articles</h3>
            <div class="large-3 columns left">
                <div class="tile">
                    <div class="imageHolder">
                        <img src="http://beyondthewharf.com.au/img/locations/thumbnails/ancestral.jpg" alt="Title here" />
                    </div>
                    <div class="textHolder">
                        <h5><a href="http://beyondthewharf.com.au">Indigenous</a></h5>
                        <span>Ancestral Spirit</span>
                    </div>
                </div>
            </div>

            <div class="large-3 columns left">
                <div class="tile">
                    <div class="imageHolder">
                        <img src="http://beyondthewharf.com.au/img/locations/thumbnails/artist.jpg" alt="Title here" />
                    </div>
                    <div class="textHolder">
                        <h5><a href="http://beyondthewharf.com.au">Art &amp; Design</a></h5>
                        <span>The Artist</span>
                    </div>
                </div>
            </div>

            <div class="large-6 columns left">
                <div class="tile">
                    <div class="imageHolder">
                        <img src="http://beyondthewharf.com.au/img/locations/thumbnail-med/shangri-la-view.jpg" alt="Title here" />
                    </div>
                    <div class="textHolder">
                        <h5><a href="http://beyondthewharf.com.au">Harbour Entertainment</a></h5>
                        <span>Entertainment</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="photoSection marginBottomStandard">

    <div class="row marginTop20">
        <div class="large-12 columns">
            <h3 class="text-center" style="margin-bottom: -0.5rem">Gallery</h3>
        </div>
    </div>
    <a id="gallery"></a>
    <div id="photoHolder01" class="row">

        <div class="small-12 medium-6 large-6 columns">
            <div class="large-12 medium-12 small-12 insta">
                <img src="http://distilleryimage1.s3.amazonaws.com/5476a9c08e5711e3978a12c5ded3f1d9_8.jpg" alt="#beyondthewharf" />
                <a href="overlays/instagram-login.php?media_id=649103271671635725_1065230518" data-reveal-ajax="true" class="comments reveal-init" data-size="small" data-mediaId="649103271671635725_1065230518" role="button"><span>0</span></a>
                <a href="overlays/instagram-login.php" data-url="overlays/instagram-login.php" class="likes reveal-init" title="You are not logged in. Log in to like." data-mediaId="649103271671635725_1065230518" role="button" data-reveal-ajax="true"><span data-mediaId="649103271671635725_1065230518" data-likesCount="2" data-displayCount>2</span></a>
                <div class="infoContainer">
                    <div class="inner">
                            <span class="location">
                            --                            </span>
                        <span class="credit">sfaurby</span>

                        <span class="button green photo-of-the-day">Photo of the day</span>

                        <a href="https://twitter.com/share?url=http://beyondthewharf.com.au/#gallery&text=Check out shot of the day&hashtag=beyondthewharf&count=none" class="twitter-share-button shot-of-day-tweet" data-lang="en">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                    </div>
                </div>
            </div>
        </div>

        <div class="small-6 medium-3 large-3 columns">
            <div class="small-12 large-12 insta">
                <img src="http://distilleryimage10.s3.amazonaws.com/9a356dec9e7511e3acb2122b90fe61ee_6.jpg" alt="Lifesavers on a Ferry, so Sydney #beyondthewharf" />
                <a href="overlays/instagram-login.php?media_id=663970108489886822_962750282" class="comments reveal-init" data-size="small" data-mediaId="663970108489886822_962750282" role="button"><span>0</span></a>
                <a href="overlays/instagram-login.php" data-url="overlays/instagram-login.php" class="likes reveal-init" title="You are not logged in. Log in to like." data-mediaId="663970108489886822_962750282" role="button" data-reveal-ajax="true"><span data-mediaId="663970108489886822_962750282" data-likesCount="0" data-displayCount>0</span></a>
                <div class="infoContainer">
                    <div class="inner">
                        <span class="location">
                        --                        </span>
                        <span class="credit">pzagami</span>
                        <a href="https://twitter.com/share?url=http://beyondthewharf.com.au/#gallery&text=Tag your photo and it will appear here&hashtag=beyondthewharf&count=none" class="twitter-share-button gallery-tweet" data-lang="en">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                    </div>
                </div>
            </div>
        </div>

        <div class="small-6 medium-3 large-3 columns">
            <div class="small-12 large-12 insta">
                <img src="http://distilleryimage11.s3.amazonaws.com/8e89611a9ddf11e3b46e0e4c3f548967_6.jpg" alt="Meanwhile the flower lady makes a sale #martin place #beyondthewharf" />
                <a href="overlays/instagram-login.php?media_id=663429409520512187_962750282" class="comments reveal-init" data-size="small" data-mediaId="663429409520512187_962750282" role="button"><span>0</span></a>
                <a href="overlays/instagram-login.php" data-url="overlays/instagram-login.php" class="likes reveal-init" title="You are not logged in. Log in to like." data-mediaId="663429409520512187_962750282" role="button" data-reveal-ajax="true"><span data-mediaId="663429409520512187_962750282" data-likesCount="1" data-displayCount>1</span></a>
                <div class="infoContainer">
                    <div class="inner">
                        <span class="location">
                        --                        </span>
                        <span class="credit">pzagami</span>
                        <a href="https://twitter.com/share?url=http://beyondthewharf.com.au/#gallery&text=Tag your photo and it will appear here&hashtag=beyondthewharf&count=none" class="twitter-share-button gallery-tweet" data-lang="en">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                    </div>
                </div>
            </div>
        </div>

        <div class="small-6 medium-3 large-3 columns">
            <div class="small-12 large-12 insta">
                <img src="http://distilleryimage9.s3.amazonaws.com/0b95efe49ddf11e3867612fc28297605_6.jpg" alt="The flower man waits for a customer # martin place #beyondthewharf" />
                <a href="overlays/instagram-login.php?media_id=663427595282705576_962750282" class="comments reveal-init" data-size="small" data-mediaId="663427595282705576_962750282" role="button"><span>0</span></a>
                <a href="overlays/instagram-login.php" data-url="overlays/instagram-login.php" class="likes reveal-init" title="You are not logged in. Log in to like." data-mediaId="663427595282705576_962750282" role="button" data-reveal-ajax="true"><span data-mediaId="663427595282705576_962750282" data-likesCount="0" data-displayCount>0</span></a>
                <div class="infoContainer">
                    <div class="inner">
                        <span class="location">
                        --                        </span>
                        <span class="credit">pzagami</span>
                        <a href="https://twitter.com/share?url=http://beyondthewharf.com.au/#gallery&text=Tag your photo and it will appear here&hashtag=beyondthewharf&count=none" class="twitter-share-button gallery-tweet" data-lang="en">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                    </div>
                </div>
            </div>
        </div>

        <div class="small-6 medium-3 large-3 columns">
            <div class="small-12 large-12 insta">
                <img src="http://distilleryimage10.s3.amazonaws.com/ce0ca96c9db911e3921b12479133cdf6_6.jpg" alt="Early morning rowers on Parramatta River #beyondthewharf" />
                <a href="overlays/instagram-login.php?media_id=663295663072898055_962750282" class="comments reveal-init" data-size="small" data-mediaId="663295663072898055_962750282" role="button"><span>0</span></a>
                <a href="overlays/instagram-login.php" data-url="overlays/instagram-login.php" class="likes reveal-init" title="You are not logged in. Log in to like." data-mediaId="663295663072898055_962750282" role="button" data-reveal-ajax="true"><span data-mediaId="663295663072898055_962750282" data-likesCount="0" data-displayCount>0</span></a>
                <div class="infoContainer">
                    <div class="inner">
                        <span class="location">
                        --                        </span>
                        <span class="credit">pzagami</span>
                        <a href="https://twitter.com/share?url=http://beyondthewharf.com.au/#gallery&text=Tag your photo and it will appear here&hashtag=beyondthewharf&count=none" class="twitter-share-button gallery-tweet" data-lang="en">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                    </div>
                </div>
            </div>
        </div>



    </div>
    <div class="row marginTop20">
        <div class="large-12 columns text-center">
            <h3 class="block">
                Share your experience
            </h3>
            <h4>Tag your instagram photos with <span class="tag">#beyondthewharf</span></h4>
            <a href="http://beyondthewharf.com.au/overlays/instagram-login.php" class="button stdDarkGrey reveal-init">Follow us on <span class="social instagram small"></span> Instagram</a>
        </div>
    </div>
</section>

<!--javascript in instagram-js.php-->
<footer>
    <section class="socialBar">
        <div class="row paddingTopBottom20">
            <div class="large-12 text-center barHolder">
                <h4>Follow Beyond the Wharf</h4>
                <!-- AddThis Follow BEGIN -->
                <div class="addthis_toolbox addthis_32x32_style addthis_default_style text-center bottom-follow-panel">
                    <a class="addthis_button_twitter_follow" addthis:userid="beyondthewharf"></a>
                    <a class="addthis_button_google_follow" addthis:userid="116659441422849815984"></a>
                    <a class="addthis_button_instagram_follow" addthis:userid="beyondthewharf"></a>
                </div>
                <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-530bf7d84b68bb46"></script>
                <!-- AddThis Follow END -->

                <!--ul>
                    <li><a href="https://twitter.com/intent/user?screen_name=beyondthewharf" class="social twitter medium" target="_blank" rel="nofollow">twitter</a></li>
                    <li><a href="#" class="social facebook medium">facebook</a></li>
                    <li><a href="#" class="social instagram medium">instagram</a></li>
                    <li><a href="#" class="social googlePlus medium">google plus</a></li>
                    <li><a href="#" class="social youtube medium">youtube</a></li>
                </ul-->
            </div>
        </div>
    </section>
    <section class="standard">
        <div class="row paddingTop20 paddingBottom40 hcf-logo">
            <span>Beyond the Wharf 2014</span>
            <a href="http://beyondthewharf.com.au/page/about-us">About Us</a>
            <br />

            <a href="http://beyondthewharf.com.au/page/about-us" class="logo-link"></a>
        </div>
    </section>
</footer>

<div id="modalShell" class="reveal-modal" data-reveal="">

</div>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47305282-1', 'beyondthewharf.com.au');
    ga('send', 'pageview');



</script>

<script type='text/javascript'>
    (function (d, t) {
        var bh = d.createElement(t), s = d.getElementsByTagName(t)[0];
        bh.type = 'text/javascript';
        bh.src = '//www.bugherd.com/sidebarv2.js?apikey=o0yuqdt3f4cck16ilxyseq';
        s.parentNode.insertBefore(bh, s);
    })(document, 'script');
</script>
<script src="http://beyondthewharf.com.au/js/jquery.js"></script>
<script src="http://beyondthewharf.com.au/js/foundation.min.js"></script>
<script src="http://beyondthewharf.com.au/js/foundation/foundation.reveal.js"></script>
<script src="http://beyondthewharf.com.au/js/global-functions.js"></script>
<script src="http://beyondthewharf.com.au/js/vendor/plugins/indie/heartcode-canvasloader-min-0.9.1.js"></script>
<script>
    $(function(){

        var hashtag = location.hash;
        //console.log('['+hashtag+']');
        if (hashtag.length > 0)
        {
            if ($(hashtag).length > 0)
            {
                var landScrollHeight = ($(hashtag).offset().top - $('#navHolder').outerHeight());
                $('html').animate({
                    scrollTop: landScrollHeight
                },'slow');
            }
        }




        $('body').on('click', '.reveal-init', function(e)
        {

            //e.stopPropagation();
            e.preventDefault();
            var url = $(this).attr('href');
            $('#modalShell').html('<div id="canvasLoader"></div>');
            var cl = new CanvasLoader('canvasLoader');
            cl.setColor('#000000');
            cl.setShape('square'); // default is 'oval'
            cl.setDiameter(42); // default is 40
            cl.setDensity(90); // default is 40
            cl.setRange(1); // default is 1.3
            cl.setSpeed(3); // default is 2
            cl.setFPS(24); // default is 24
            cl.show(); // Hidden by default

            var modal_size = $(this).attr('data-size');
            if (modal_size != '' || modal_size == 'undefined')
            {
                modal_size = 'medium'
            }


            $('#modalShell').foundation('reveal', 'open');
            $('#modalShell').addClass(modal_size);
            $('#modalShell').load(url);
        });

        $('body').on('click','.reveal-close, .reveal-modal-bg', function(e)
        {
            e.preventDefault();
            $('#modalShell').foundation('reveal', 'close');
            $('#modalShell').empty();
        });


        $('.panelFlyoutTrigger').on('click', function(e) {
            e.preventDefault();
            var target = $('#'+$(this).attr('data-target'));
            var id = $(this).attr('data-location');

            beforeLocationRetrieveHandler(target);
            $('#flyoutPanel').load('http://beyondthewharf.com.au/services/load-location.php?id='+id +'&relPath=http://beyondthewharf.com.au/', function(){
                var scrollHeight = ($('#flyoutPanel').offset().top - $('#navHolder').outerHeight());
                $('html, body').animate({
                    scrollTop: scrollHeight
                },'slow');
            });
        });

        $('body').on('click', '.flyoutPanelClose', function(e){
            e.preventDefault();
            $('#flyoutPanel').remove();
        });

        function beforeLocationRetrieveHandler(target) {
            if ($('#flyoutPanel').length > 0)
            {
                $('#flyoutPanel').remove();
            }
            var panelFlyout = '';
            panelFlyout += '<div id="flyoutPanel" class="panelFlyout  large-12 columns left">';
            panelFlyout += '<div class="large-12 columns standardDarkGrey">';
            panelFlyout += '<div id="flyoutCanvas" class="paddingTopBottom20 left"></div>';
            panelFlyout += '<h4 class="left loading">Loading...</h4>';
            panelFlyout += '<div class="left"></div>';
            panelFlyout += '</div>';
            panelFlyout += '</div>';
            $(panelFlyout).insertAfter(target);
            var cl = new CanvasLoader('flyoutCanvas');
            cl.setColor('#ffffff');
            cl.setShape('square'); // default is 'oval'
            cl.setDiameter(42); // default is 40
            cl.setDensity(90); // default is 40
            cl.setRange(1); // default is 1.3
            cl.setSpeed(3); // default is 2
            cl.setFPS(24); // default is 24
            cl.show(); // Hidden by default
        }



        function locationRetrieveErrorHandler(target) {
            var locationHTML = '';
            var closeHTML = '<a href="#" class="flyoutPanelClose">Close panel</a>';
            locationHTML = '<div class="large-12 columns standardDarkGrey paddingTopBottom20">';
            locationHTML += closeHTML;
            locationHTML += '<h4>Whoops... we appear to have an issue</h4>';
            locationHTML += '</div>';
            $('#flyoutPanel').html(locationHTML);
        }




    });
</script><script>
$(function() {
    $('body').on('click','a.userLikes', function(e)
    {
        e.preventDefault();
        var url = $(this).attr('data-url');
        var el = $(this);
        $.ajax({
            type: 'POST',
            url: url,
            beforeSend: function()
            {
                beforeLikeSendHandler(el);
            },
            success: function(data)
            {
                unLikeSuccessHandler(data);
            }
        });
    });

    $('body').on('click','.insta-follow', function(e) {
        e.preventDefault();
        var url = $(this).attr('href');
        var el = $(this);
        $.ajax({
            type: 'POST',
            url: url,
            beforeSend: function()
            {
                beforeFollowHandler(el);
            },
            success: function(data)
            {
                followSuccessHandler(data, el);
            }
        });
    });

    $('body').on('click','.insta-unfollow', function(e) {
        e.preventDefault();
        var url = $(this).attr('href');
        var el = $(this);
        $.ajax({
            type: 'POST',
            url: url,
            beforeSend: function()
            {
                beforeFollowHandler(el);
            },
            success: function(data)
            {
                unfollowSuccessHandler(data, el);
            }
        });
    });

    function beforeFollowHandler(el)
    {
        //console.log('here');
        el.html('<div id="followLoader"></div>');
        var cl = new CanvasLoader('followLoader');
        cl.setColor('#ffffff');
        cl.setShape('square'); // default is 'oval'
        cl.setDiameter(25); // default is 40
        cl.setDensity(90); // default is 40
        cl.setRange(1); // default is 1.3
        cl.setSpeed(3); // default is 2
        cl.setFPS(24); // default is 24
        cl.show(); // Hidden by default
    }

    function followSuccessHandler(data, el)
    {
        var obj = JSON.parse(data);

        if (obj.hasOwnProperty('meta'))
        {
            if (obj.meta.code === 200)
            {
                //console.log('follow server response successful');
                //console.dir(obj);
                el.removeClass('insta-follow stdDarkGrey');
                el.addClass('insta-unfollow stdGreen');
                el.attr('href','http://beyondthewharf.com.au/services/instagram-unfollow-btw.php');
                el.html('<span class="social instagram small"></span> Following');
            }
            else
            {

                //console.log('follow server response error');
                //console.dir(obj);
            }
        }
    }

    function unfollowSuccessHandler(data, el)
    {
        var obj = JSON.parse(data);

        if (obj.hasOwnProperty('meta'))
        {
            if (obj.meta.code === 200)
            {
                //console.log('unfollow server response successful');
                //console.dir(obj);
                el.removeClass('insta-unfollow stdGreen');
                el.addClass('insta-follow stdDarkGrey');
                el.attr('href','http://beyondthewharf.com.au/services/instagram-follow-btw.php');
                el.html('Follow Us On <span class="social instagram small"></span> Instagram');
            }
            else
            {
                //console.log('unfollow server response error');
                //console.dir(obj);
            }
        }
    }



    $('body').on('click','a.userNoLikes', function(e){
        e.preventDefault();
        var url = $(this).attr('data-url');
        var el = $(this);
        $.ajax({
            type: 'POST',
            url: url,
            beforeSend: function()
            {
                beforeLikeSendHandler(el);
            },
            success: function(data)
            {
                likeSuccessHandler(data);
            }
        });
    });

    function beforeLikeSendHandler(el) {
        var mediaId = el.attr('data-mediaId');
        var triggerLikesCount = el.attr('data-likesCount');

        if (el.hasClass('userNoLikes'))
        {
            //console.log('you clicked to like');
            //switch urls
            el.attr('data-url','services/instagram-unlike-media.php?media_id='+mediaId);

            //change classes on heart icon
            $('.userNoLikes[data-mediaId="'+mediaId+'"]').each(function(i){
                $(this).removeClass('userNoLikes').addClass('userLikes');
            });

            //update count data and text
            $('[data-mediaId="'+mediaId+'"][data-likesCount]').each(function(i){
                var newCount = parseInt('0'+$(this).attr('data-likesCount'))+1;
                var newCountText = likeNumberFormatter(newCount);

                $(this).attr('data-likesCount',newCount);

                var hasAttr = $(this).attr('data-displayCount');

                if (typeof hasAttr !== 'undefined' && hasAttr !== false)
                {
                    $(this).text(newCountText);
                }
            });

            $('p.commentsShoutout').each(function(i) {
                var existingHTML = $(this).html();
                if ($(this).text().toLowerCase().trim() == '')
                {
                    $(this).html('<a href="http://instagram.com/" target="_blank">You</a> like this.');
                }
                else if (parseInt('0'+triggerLikesCount) == 1)
                {
                    $(this).html('<a href="http://instagram.com/" target="_blank">You</a> and '+ existingHTML);
                }
                else if (parseInt('0'+triggerLikesCount) > 1)
                {
                    $(this).html('<a href="http://instagram.com/" target="_blank">You</a>, '+ existingHTML);
                }

            });

        }
        else
        {
            //console.log('you clicked to unlike');
            //switch urls
            el.attr('data-url','services/instagram-like-media.php?media_id='+mediaId);

            $('.userLikes[data-mediaId="'+mediaId+'"]').each(function(i){
                $(this).removeClass('userLikes').addClass('userNoLikes');
            });
            $('[data-mediaId="'+mediaId+'"][data-likesCount]').each(function(i){
                var newCount = parseInt('0'+$(this).attr('data-likesCount'))-1;
                var newCountText = likeNumberFormatter(newCount);

                $(this).attr('data-likesCount',newCount);

                var hasAttr = $(this).attr('data-displayCount');

                if (typeof hasAttr !== 'undefined' && hasAttr !== false)
                {
                    $(this).text(newCountText);
                }
            });

            //@TODO: fix you text removal
            $('p.commentsShoutout').each(function(i) {
                //console.log('['+$(this).text().toLowerCase().trim()+']');
                var existingHTML = $(this).html();
                $(this).css({
                    outline: '1px solid red'
                });
                $(this).remove('.youText');
            });
        }
    }

    function unLikeSuccessHandler(data){
        var obj = JSON.parse(data);

        if (obj.hasOwnProperty('meta'))
        {
            if (obj.meta.code === 200)
            {
                //console.log('unlike server response successful');
            }
            else
            {

                //console.log('unlike server response error');
                //console.dir(obj);
            }
        }
    }

    function likeSuccessHandler(data){
        var obj = JSON.parse(data);

        if (obj.hasOwnProperty('meta'))
        {
            if (obj.meta.code === 200)
            {
                //console.log('like server response successful');
            }
            else
            {
                //console.log('like server response error');
                //console.dir(obj);
            }
        }
    }

    function isJson(str) {
        try {
            JSON.parse(str);
        } catch (e) {
            return false;
        }
        return true;
    }
});
</script>

<script src="http://beyondthewharf.com.au/js/vendor/google/maps/infoBubble.js"></script>

<script type="text/javascript">

$(function(){

    var cl = new CanvasLoader('map-canvas-loader');
    cl.setColor('#ffffff');
    cl.setShape('square'); // default is 'oval'
    cl.setDiameter(60); // default is 40
    cl.setDensity(90); // default is 40
    cl.setRange(1); // default is 1.3
    cl.setSpeed(3); // default is 2
    cl.setFPS(24); // default is 24
    cl.show(); // Hidden by default

    $('<h4 class="left loading">Loading...</h4>').insertAfter('#canvasLoader');
});

function initialize() {

    var stdGrey = '#272e35';

    var mapOptions = {
        center: new google.maps.LatLng(-33.836311,151.208267),
        zoom: 14,
        mapTypeControlOptions: {
            mapTypeIds: [google.maps.MapTypeId.TERRAIN, 'map_style'],
            position: google.maps.ControlPosition.BOTTOM_CENTER
        }
    };
    var map = new google.maps.Map(document.getElementById("map-canvas"),
        mapOptions);

    // map: an instance of GMap3
// latlng: an array of instances of GLatLng
    /* var latlngbounds = new google.maps.LatLngBounds();
     latlng.each(function(n){
     latlngbounds.extend(n);
     });
     map.setCenter(latlngbounds.getCenter());
     map.fitBounds(latlngbounds);

     */


    var darlingTripCoords = [
        new google.maps.LatLng(-33.86047800,151.21151000),
        new google.maps.LatLng(-33.85985100,151.21107500),
        new google.maps.LatLng(-33.85815100,151.21125700),
        new google.maps.LatLng(-33.85589700,151.21136400),
        new google.maps.LatLng(-33.85324800,151.21152300),
        new google.maps.LatLng(-33.85288900,151.21156300),
        new google.maps.LatLng(-33.85285100,151.21156500),
        new google.maps.LatLng(-33.85281800,151.21156500),
        new google.maps.LatLng(-33.85248400,151.21153500),
        new google.maps.LatLng(-33.85242900,151.21152900),
        new google.maps.LatLng(-33.85240600,151.21152900),
        new google.maps.LatLng(-33.85236900,151.21150100),
        new google.maps.LatLng(-33.85225500,151.21139900),
        new google.maps.LatLng(-33.85132800,151.21065100),
        new google.maps.LatLng(-33.85077300,151.21023700),
        new google.maps.LatLng(-33.85070100,151.21018600),
        new google.maps.LatLng(-33.85064800,151.21014300),
        new google.maps.LatLng(-33.85058900,151.21011900),
        new google.maps.LatLng(-33.85041700,151.21005100),
        new google.maps.LatLng(-33.85039000,151.21004100),
        new google.maps.LatLng(-33.85036800,151.21004500),
        new google.maps.LatLng(-33.85026000,151.21005700),
        new google.maps.LatLng(-33.85017200,151.21006700),
        new google.maps.LatLng(-33.85010200,151.21007100),
        new google.maps.LatLng(-33.85006800,151.21010000),
        new google.maps.LatLng(-33.84997000,151.21018100),
        new google.maps.LatLng(-33.84943400,151.21065800),
        new google.maps.LatLng(-33.84930700,151.20997100),
        new google.maps.LatLng(-33.84910800,151.20885100),
        new google.maps.LatLng(-33.84897500,151.20809600),
        new google.maps.LatLng(-33.84886900,151.20750000),
        new google.maps.LatLng(-33.84877800,151.20694100),
        new google.maps.LatLng(-33.84869700,151.20619600),
        new google.maps.LatLng(-33.84929500,151.20654200),
        new google.maps.LatLng(-33.84946600,151.20657400),
        new google.maps.LatLng(-33.84983600,151.20659300),
        new google.maps.LatLng(-33.85012300,151.20658500),
        new google.maps.LatLng(-33.85025900,151.20655000),
        new google.maps.LatLng(-33.85036800,151.20650400),
        new google.maps.LatLng(-33.85045700,151.20641000),
        new google.maps.LatLng(-33.85063400,151.20616300),
        new google.maps.LatLng(-33.85114700,151.20514900),
        new google.maps.LatLng(-33.85208700,151.20331900),
        new google.maps.LatLng(-33.85250100,151.20248300),
        new google.maps.LatLng(-33.85339600,151.20101800),
        new google.maps.LatLng(-33.85471500,151.19898500),
        new google.maps.LatLng(-33.85540500,151.19804600),
        new google.maps.LatLng(-33.85605600,151.19717700),
        new google.maps.LatLng(-33.85701100,151.19544800),
        new google.maps.LatLng(-33.85728500,151.19654000),
        new google.maps.LatLng(-33.85765200,151.19722900),
        new google.maps.LatLng(-33.85784200,151.19757500),
        new google.maps.LatLng(-33.85802200,151.19781100),
        new google.maps.LatLng(-33.85827400,151.19810900),
        new google.maps.LatLng(-33.85838700,151.19826700),
        new google.maps.LatLng(-33.85852500,151.19836100),
        new google.maps.LatLng(-33.85905100,151.19857800),
        new google.maps.LatLng(-33.85934900,151.19869600),
        new google.maps.LatLng(-33.85957400,151.19877100),
        new google.maps.LatLng(-33.86043000,151.19891300),
        new google.maps.LatLng(-33.86226000,151.19923300),
        new google.maps.LatLng(-33.86405600,151.19954400),
        new google.maps.LatLng(-33.86441900,151.19960500),
        new google.maps.LatLng(-33.86467300,151.19963500),
        new google.maps.LatLng(-33.86543000,151.19961600),
        new google.maps.LatLng(-33.86587500,151.19960500),
        new google.maps.LatLng(-33.86617600,151.19959200),
        new google.maps.LatLng(-33.86646100,151.19950400),
        new google.maps.LatLng(-33.86855100,151.19873300),
        new google.maps.LatLng(-33.86689100,151.20082500),
        new google.maps.LatLng(-33.86687300,151.20040700),
        new google.maps.LatLng(-33.86681500,151.20030600),
        new google.maps.LatLng(-33.86662600,151.20016600),
        new google.maps.LatLng(-33.86648100,151.20011200),
        new google.maps.LatLng(-33.86613600,151.20002700),
        new google.maps.LatLng(-33.86526100,151.19976600),
        new google.maps.LatLng(-33.86440800,151.19960500),
        new google.maps.LatLng(-33.86293300,151.19937500),
        new google.maps.LatLng(-33.86226000,151.19923300),
        new google.maps.LatLng(-33.86043000,151.19891300),
        new google.maps.LatLng(-33.85957400,151.19877100),
        new google.maps.LatLng(-33.85934900,151.19869600),
        new google.maps.LatLng(-33.85905100,151.19857800),
        new google.maps.LatLng(-33.85852500,151.19836100),
        new google.maps.LatLng(-33.85838700,151.19826700),
        new google.maps.LatLng(-33.85827400,151.19810900),
        new google.maps.LatLng(-33.85802200,151.19781100),
        new google.maps.LatLng(-33.85784200,151.19757500),
        new google.maps.LatLng(-33.85765200,151.19722900),
        new google.maps.LatLng(-33.85728500,151.19654000),
        new google.maps.LatLng(-33.85701100,151.19544800),
        new google.maps.LatLng(-33.85605600,151.19717700),
        new google.maps.LatLng(-33.85540500,151.19804600),
        new google.maps.LatLng(-33.85471500,151.19898500),
        new google.maps.LatLng(-33.85339600,151.20101800),
        new google.maps.LatLng(-33.85250100,151.20248300),
        new google.maps.LatLng(-33.85208700,151.20331900),
        new google.maps.LatLng(-33.85114700,151.20514900),
        new google.maps.LatLng(-33.85063400,151.20616300),
        new google.maps.LatLng(-33.85045700,151.20641000),
        new google.maps.LatLng(-33.85036800,151.20650400),
        new google.maps.LatLng(-33.85025900,151.20655000),
        new google.maps.LatLng(-33.85012300,151.20658500),
        new google.maps.LatLng(-33.84983600,151.20659300),
        new google.maps.LatLng(-33.84946600,151.20657400),
        new google.maps.LatLng(-33.84929500,151.20654200),
        new google.maps.LatLng(-33.84869700,151.20619600),
        new google.maps.LatLng(-33.84877800,151.20694100),
        new google.maps.LatLng(-33.84886900,151.20750000),
        new google.maps.LatLng(-33.84897500,151.20809600),
        new google.maps.LatLng(-33.84910800,151.20885100),
        new google.maps.LatLng(-33.84930700,151.20997100),
        new google.maps.LatLng(-33.84335300,151.22227000),
        new google.maps.LatLng(-33.84997000,151.21018100),
        new google.maps.LatLng(-33.85006800,151.21010000),
        new google.maps.LatLng(-33.85010200,151.21007100),
        new google.maps.LatLng(-33.85017200,151.21006700),
        new google.maps.LatLng(-33.85026000,151.21005700),
        new google.maps.LatLng(-33.85036800,151.21004500),
        new google.maps.LatLng(-33.85039000,151.21004100),
        new google.maps.LatLng(-33.85041700,151.21005100),
        new google.maps.LatLng(-33.85058900,151.21011900),
        new google.maps.LatLng(-33.85064800,151.21014300),
        new google.maps.LatLng(-33.85070100,151.21018600),
        new google.maps.LatLng(-33.85077300,151.21023700),
        new google.maps.LatLng(-33.85132800,151.21065100),
        new google.maps.LatLng(-33.85225500,151.21139900),
        new google.maps.LatLng(-33.85236900,151.21150100),
        new google.maps.LatLng(-33.85240600,151.21152900),
        new google.maps.LatLng(-33.85242900,151.21152900),
        new google.maps.LatLng(-33.85248400,151.21153500),
        new google.maps.LatLng(-33.85281800,151.21156500),
        new google.maps.LatLng(-33.85285100,151.21156500),
        new google.maps.LatLng(-33.85288900,151.21156300),
        new google.maps.LatLng(-33.85324800,151.21152300),
        new google.maps.LatLng(-33.85589700,151.21136400),
        new google.maps.LatLng(-33.85815100,151.21125700),
        new google.maps.LatLng(-33.85985100,151.21107500),
        new google.maps.LatLng(-33.86047800,151.21151000)
    ];

    var darlingTrip = new google.maps.Polyline({
        path: darlingTripCoords,
        geodesic: true,
        strokeColor: "#59acb3",
        strokeOpacity: 1,
        strokeWeight: 3
    });

    var infoBubble;google.maps.event.addListener(darlingTrip, 'click', function(event) {
        var latLng = new google.maps.LatLng(event.latLng.lat(),event.latLng.lng());
        if(infoBubble)
        {
            infoBubble.close(map);
            infoBubble.setMap(null);
        }
        infoBubble = new InfoBubble({
            map: map,
            content: '<div class="infoBubble routes darling"><h5>Darling Harbour</h5><a href="http://beyondthewharf.com.au/route/darling-harbour" class="directive">Go to route</a></div>',
            position: latLng,
            shadowStyle: 1,
            padding: 0,
            backgroundColor: '#59acb3',
            borderRadius: 0,
            arrowSize: 10,
            borderWidth: 1,
            borderColor: '#59acb3',
            disableAutoPan: true,
            hideCloseButton: false,
            arrowPosition: 25,
            backgroundClassName: 'infoBubbleWrapper',
            arrowStyle: 0,
            disableAutoPan: true,
            minWidth: 240,
            minHeight: 70
        });
        infoBubble.setPosition(latLng);
        infoBubble.open(map);
    });

    darlingTrip.setMap(map);
    var iconBase = 'http://beyondthewharf.com.au/img/';
    var thmbBase = 'http://beyondthewharf.com.au/img/locations/thumbnails/';
    var markerLocations = [
        {
            id: 5,
            title: "Maritime Museum",
            lat: -33.86949600,
            lng: 151.19865400,
            icon: iconBase + 'attractionMarker.png',
            image_thumb: thmbBase + 'Aust-National-Maritime-Museum.jpg',
            alt: "Icon: History",
            category: "attractions",
            sub_heading: "experiences"
        },
        {
            id: 110,
            title: "Powerhouse Museum",
            lat: -33.87829267,
            lng: 151.19951227,
            icon: iconBase + 'attractionMarker.png',
            image_thumb: thmbBase + 'Powerhouse-Museum.gif',
            alt: "Powerhouse Museum",
            category: "attractions",
            sub_heading: "experiences"
        },
        {
            id: 109,
            title: "Madam Tussauds",
            lat: -33.86902854,
            lng: 151.20255926,
            icon: iconBase + 'attractionMarker.png',
            image_thumb: thmbBase + 'Madame-Tussauds.gif',
            alt: "Madame Tussauds ",
            category: "attractions",
            sub_heading: "experiences"
        },
        {
            id: 119,
            title: "Aqua Dining",
            lat: -33.84870184,
            lng: 151.21112623,
            icon: iconBase + 'foodAndWineMarker.png',
            image_thumb: thmbBase + 'Aqua-Dining.gif',
            alt: "Aqua Dining",
            category: "food & wine",
            sub_heading: "experiences"
        },
        {
            id: 39,
            title: "Luna Park",
            lat: -33.84929984,
            lng: 151.21070769,
            icon: iconBase + 'familyMarker.png',
            image_thumb: thmbBase + 'Luna-Park.jpg',
            alt: "Luna Park",
            category: "family",
            sub_heading: "experiences"
        },
        {
            id: 41,
            title: "Wildlife Sydney Zoo",
            lat: -33.87409200,
            lng: 151.20053100,
            icon: iconBase + 'familyMarker.png',
            image_thumb: thmbBase + 'Wildlife-Sydney.jpg',
            alt: "Wild Life Sydney Zoo",
            category: "family",
            sub_heading: "experiences"
        },
        {
            id: 79,
            title: "Mary MacKillop Place Museum",
            lat: -33.86829138,
            lng: 151.19207450,
            icon: iconBase + 'secretsMarker.png',
            image_thumb: thmbBase + 'Mary-McKillop-Place.jpg',
            alt: "",
            category: "local secrets",
            sub_heading: "experiences"
        }
    ];



    var styles = [
        {
            "featureType": "transit.line",
            "elementType": "geometry.fill",
            "stylers": [
                {"visibility": "off" }
            ]
        },
        {
            "featureType":"water",
            "stylers": [
                {"visibility":"on"},
                {"color":"#acbcc9"}
            ]
        },
        {
            "featureType":"landscape",
            "stylers":[
                {"color":"#f2e5d4"}
            ]
        },
        {
            "featureType":"road.highway",
            "elementType":"geometry",
            "stylers": [
                {"color":"#c5c6c6"}
            ]
        },
        {
            "featureType":"road.arterial",
            "elementType":"geometry",
            "stylers": [
                {"color":"#e4d7c6"}
            ]
        },
        {
            "featureType":"road.local",
            "elementType":"geometry",
            "stylers": [
                {
                    "visibility":"off"
                },
                {
                    "color":"#fbfaf7"
                }
            ]
        },
        {
            "featureType":"poi.park",
            "elementType":"geometry",
            "stylers": [
                {
                    "visibility":"off"
                },
                {
                    "color":"#c5dac6"
                }
            ]
        },
        {
            "featureType":"administrative",
            "stylers": [
                {
                    "visibility":"off"
                },
                {
                    "lightness":33
                }
            ]
        },
        {
            "featureType":"road"
        },
        {
            "featureType":"poi.park",
            "elementType":"labels",
            "stylers": [
                {
                    "visibility":"off"
                },
                {
                    "lightness":20
                }
            ]
        },
        {
            "featureType":"poi.business",
            "elementType":"labels",
            "stylers": [
                {
                    "visibility":"off"
                },
                {
                    "lightness":20
                }
            ]
        },
        {

        },
        {
            "featureType":"road",
            "stylers": [
                {
                    "lightness":20
                }
            ]
        }
    ]


    var styledMap = new google.maps.StyledMapType(styles, {name: "Map"});

    map.mapTypes.set('map_style', styledMap);
    map.setMapTypeId('map_style');





    var markerArray= [];
    showLocations(markerLocations);

    //console.dir(markerArray);

    $('.mapFilter').on('click', function(e){
        e.preventDefault();
        var targetCategory = $(this).attr('data-category');
        for (var i = 0; i < markerArray.length; i++) {
            if (markerArray[i].category === targetCategory)
            {
                //console.log('same category');
                if(markerArray[i].visible)
                {
                    //console.log('hide marker');
                    markerArray[i].setVisible(false);
                    $(this).children('span').children('span').hide();
                }
                else
                {
                    //console.log('show marker');
                    markerArray[i].setVisible(true);
                    $(this).children('span').children('span').show();
                }
            }
        }
    });

    function showLocations(locations)
    {
        for (var i=0; i<locations.length;i++)
        {
            (function(location){
                var latLng = new google.maps.LatLng(location.lat,location.lng)
                var marker = new google.maps.Marker({
                    position: latLng,
                    icon: location.icon,
                    map: map,
                    id: 'marker-'+i,
                    category: location.category
                });
                //console.dir(marker);
                //console.log('marker-'+i);
                markerArray.push(marker);



                var locationContent = '';
                locationContent += '<div class="imgHolder" data-category="'+location.category+'">';
                locationContent += '<div class="closeBg"></div>';
                locationContent += '<img src="'+location.image_thumb+'" alt="'+location.alt+'" />';
                locationContent += '</div>';
                locationContent += '<div class="textHolder">';
                locationContent += '<span>'+location.sub_heading+'</span>';
                locationContent += '<h5><a href="#" class="panelFlyoutTrigger" data-location="'+location.id+'" data-target="mapContainer">'+location.title+'</a></h5>';
                locationContent += '</div>';

                var locationBubble = new InfoBubble({
                    map: map,
                    content: locationContent,
                    position: latLng,
                    shadowStyle: 1,
                    padding: 0,
                    backgroundColor: stdGrey,
                    borderRadius: 0,
                    arrowSize: 10,
                    borderWidth: 0,
                    borderColor: stdGrey,
                    disableAutoPan: false,
                    hideCloseButton: false,
                    arrowPosition: 25,
                    backgroundClassName: 'locationBubbleWrapper',
                    arrowStyle: 0,
                    disableAutoPan: true,
                    maxWidth: 260,
                    minHeight: 270
                });

                google.maps.event.addListener(marker, 'click', function(){
                    locationBubble.open(map, marker);
                });

                google.maps.event.addListener(locationBubble,'domready', function(){
                    $('.panelFlyoutTrigger').on('click', function(e) {
                        e.preventDefault();
                        //console.log('here');
                        var target = $('#'+$(this).attr('data-target'));
                        var id = $(this).attr('data-location');

                        beforeLocationRetrieveHandler(target);
                        $('#flyoutPanel').load('http://beyondthewharf.com.au/services/load-location.php?id='+id +'&relPath=http://beyondthewharf.com.au/', function(){
                            var scrollHeight = ($('#flyoutPanel').offset().top - $('#navHolder').outerHeight());
                            $('html, body').animate({
                                scrollTop: scrollHeight
                            },'slow');
                        });
                    });

                    $('body').on('click', '.flyoutPanelClose', function(e){
                        e.preventDefault();
                        $('#flyoutPanel').remove();
                    });

                    function beforeLocationRetrieveHandler(target) {
                        if ($('#flyoutPanel').length > 0)
                        {
                            $('#flyoutPanel').remove();
                        }
                        var panelFlyout = '';
                        panelFlyout += '<div id="flyoutPanel" class="panelFlyout  large-12 columns left">';
                        panelFlyout += '<div class="large-12 columns standardDarkGrey">';
                        panelFlyout += '<div id="flyoutCanvas" class="paddingTopBottom20 left"></div>';
                        panelFlyout += '<h4 class="left loading">Loading...</h4>';
                        panelFlyout += '<div class="left"></div>';
                        panelFlyout += '</div>';
                        panelFlyout += '</div>';
                        $(panelFlyout).insertAfter(target);
                        var cl = new CanvasLoader('flyoutCanvas');
                        cl.setColor('#ffffff');
                        cl.setShape('square'); // default is 'oval'
                        cl.setDiameter(42); // default is 40
                        cl.setDensity(90); // default is 40
                        cl.setRange(1); // default is 1.3
                        cl.setSpeed(3); // default is 2
                        cl.setFPS(24); // default is 24
                        cl.show(); // Hidden by default
                    }



                    function locationRetrieveErrorHandler(target) {
                        var locationHTML = '';
                        var closeHTML = '<a href="#" class="flyoutPanelClose">Close panel</a>';
                        locationHTML = '<div class="large-12 columns standardDarkGrey paddingTopBottom20">';
                        locationHTML += closeHTML;
                        locationHTML += '<h4>Whoops... we appear to have an issue</h4>';
                        locationHTML += '</div>';
                        $('#flyoutPanel').html(locationHTML);
                    }



                });
            }(locations[i]));
        }
    }

    $(function() {
        $('.routeController').on('click', function(e) {
            e.preventDefault();
            if ($(this).attr('data-visible') === 'true')
            {
                $(this).children('span').children('span').css({'display': 'none'});
                $(this).attr('data-visible','false');
                eval('{'+$(this).attr('data-target')+'}').setMap(null);
            }
            else
            {
                $(this).children('span').children('span').css({'display': 'block'});
                $(this).attr('data-visible','true');
                eval('{'+$(this).attr('data-target')+'}').setMap(map);
            }
        });

        $('#toggleMapControlPanel').on('click', function(e) {
            e.preventDefault();

            var variant = 20;
            var mapCanvasWidth = $('#map-canvas').outerWidth();
            var controlPanelWidth =  $('#mapControlPanelHolder').outerWidth();
            var controlPanelTargetLeft = (mapCanvasWidth - controlPanelWidth) + variant;
            var toggleMapControlPanelWidth = $('#toggleMapControlPanel').outerWidth();
            var toggleTargetIn = (mapCanvasWidth - controlPanelWidth) - toggleMapControlPanelWidth + variant
            var toggleTargetOut = (mapCanvasWidth - toggleMapControlPanelWidth) + variant;

            //console.log('toggleTargetIn['+toggleTargetIn+']');
            //console.log('controlPanelTargetLeft['+controlPanelTargetLeft+']');

            if ($('#mapControlPanelHolder').is(':visible'))
            {
                //hide
                $('#mapControlPanel').animate({
                        left: controlPanelWidth
                    }, 500,
                    function() {
                        $('#mapControlPanelHolder').css({'display': 'none'});
                    }
                );

                $('#toggleMapControlPanel').animate({
                    left: toggleTargetOut
                }, 500).html('&lt;');
            }
            else
            {
                $('#mapControlPanelHolder').css({'display': 'block'});
                $('#mapControlPanelHolder').show();
                $('#mapControlPanel').animate({
                        left: 0
                    }, 500
                );

                $('#toggleMapControlPanel').animate({
                    left: toggleTargetIn
                }, 500).html('&gt;');
            }

        });
    });

    if ($('#mapControlPanelHolder').length > 0) {
        var variant = 20;
        var mapCanvasWidth = $('#map-canvas').outerWidth();
        var controlPanelWidth =  $('#mapControlPanelHolder').outerWidth();
        var controlPanelTargetLeft = (mapCanvasWidth - controlPanelWidth) + variant;
        var toggleMapControlPanelWidth = $('#toggleMapControlPanel').outerWidth();
        var toggleTargetLeft = controlPanelTargetLeft - toggleMapControlPanelWidth;

        $('#mapControlPanelHolder').css({
            left: controlPanelTargetLeft
        });

        $('#toggleMapControlPanel').css({
            left: toggleTargetLeft
        });
    }
}

google.maps.event.addDomListener(window, 'load', initialize);

</script></body>
</html>